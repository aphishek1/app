<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>



    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">




<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<link rel="stylesheet" link href="bootstrap-5.3.3-dist/css/bootstrap.min.css">


<script src="bootstrap-5.3.3-dist/js/bootstrap.min.js"></script>




</head>




<style>



@keyframes fadout
{
from{opacity:0;transform:scale(1.5);}
to{opacity:0.99;}
}


    .bar{
      width:100%;
      text-align:center;
      padding:20px;
      position:fixed;
      transition:2s;
      animation:fadout 2s ease-in-out;
      
    }
    
    #draw,#size,#small,#clear,#change
    {
      background:black;
      cursor:pointer;
      text-align: center;
      color: gold;
      border-radius: 6px;
      box-shadow: 2px 5px 5px black;
      transition:2s;
      animation:fadout 2s ease-in-out;
      outline: auto green;
    }

    #setcolor
    {
      border-radius: 6px;
      box-shadow: 2px 5px 5px black;
      color: gold;
      outline: auto green;


    }


    #save
    {
      background:black;
      cursor:pointer;
      text-align: right;
      color: gold;
      border-radius: 20px;
      box-shadow: 2px 5px 5px black;
      transition:2s;
      animation:fadout 2s ease-in-out;
    }



    #mycan
    {
    
     position:absolute;
     top:50px;
    
            
            top: 60px; /* Adjust based on controls height */
            left: 0;
    }

   #info
   {
    
    box-shadow:5px 5px 5px gray;
    position:absolute;
    z-index:24;
    
   }
   

</style>

<body>

  <h1 style="text-align: center; font-size: 50px;margin-top: 50px;text-shadow: 1px 1px 0px green;">Drew</h1>
    
  <div class="bar"><button id="draw">Draw ON/OFF</button>
    <button id="size">Size</button><button id="small">Resize</button>

    <button class="btn btn-outline-success text-end" onclick="savedraw()">Save</button>

    <input type="color" id ="setcolor">




  <div class="w-100 text-center info fs-2">Keys: - E = Erase , G = Drawmode On/Off, Spacebar: = Clear , Screen, C = color , S = BrushSize + , d =BrushSize --</div>

    <canvas id="mycan" width="1600" height="900"></canvas>
    <!--we have to use  drawing api drawing function-->

    <script>
      var can = document.getElementById("mycan")
      var drawmode = false
      var c = can.getContext("2d");
      var drawcolor ="black"
      var brushsize ="2"
      var r,g,b

      var d =document.getElementById("erase")
      var draw =document.getElementById("draw")
      var size =document.getElementById("size")
      var small =document.getElementById("small")
      var setcolor =document.getElementById("setcolor")
      

      
      function startdraw(e)
      {
        document.title ="X ="+e.pagX+" y ="+e.pageY
        if(drawmode)
        {       document.title ="drawing"
           c.beginPath()
          c.arc(e.pageX+12,e.pageY-160,brushsize,0,3*Math.PI)
          c.fillStyle = drawcolor
          c.fill()
          }
      }




      //// // Save the drawing as an image
    function savedraw() {
        const fname = prompt("File name.. File will be saved in png format", "World");
        const dataURL = mycan.toDataURL();
        const link = document.createElement("a");
        link.download = fname;
        link.href = dataURL;
        link.click();
    }




      function f1(e)
    {


       // document.title=e.keyCode



       // e = for erase
       if(e.keyCode == 69)
           {
             drawcolor="white"
           }


     
          
          

// g = drawmode on/off
if(e.keyCode == 71)
        {
               if(drawmode)
                  {
                    drawmode = false
                  }

                  else
                  {
                    drawmode = true
                  }
          document.title = drawmode
        }


        //s
        if(e.keyCode == 83)
       {
         brushsize++           
         document.title=brushsize
       }

        
        //68=D
        if(e.keyCode == 68)
       {
          brushsize--
          document.title =brushsize
       }

        //spacebar
        if(e.keyCode==32)
       {
        c.clearRect(0,0,1500,900)
       }

        //67=c
        if(e.keyCode == 67)
       {
         r= Math.round(Math.random()*255)
         g= Math.round(Math.random()*255)
         b= Math.round(Math.random()*255)

         drawcolor=`rgb(${r},${g},${b})`
       }


    }

      document.addEventListener("mousemove",startdraw)
      document.addEventListener("keydown",f1)

      small.onclick = function()
      {
        brushsize--
      }

      size.onclick = function()
      {
        brushsize++
      }

      setcolor.onchange =function()
      {
        drawcolor=this.value
      }

      draw.onclick = function()
      {
        {
               if(drawmode)
                  {
                    drawmode = false
                  }

                  else
                  {
                    drawmode = true
                  }
          document.title = drawmode
        }
      }






    </script>
    
</body>
</html>